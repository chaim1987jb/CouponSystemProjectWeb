<!DOCTYPE html>
<html>
<head>
<meta charset="windows-1255">
 <link rel="stylesheet" href="./CssFiles/Customer.css" type="text/css" />
<title>Insert title here</title>
</head>
<body>
   
         
              
   	<div ng-controller="GetCouponsByEndDateCtrl as g">
   
  
      
      <modal remove="g.removeCoupon" confirm="g.confirm()" alert-message="g.alertMessage()"></modal>
      <popup success="g.success" err="g.error" info="g.info" alert-message="g.alertMessage()"></popup>
 
          <h3 class="texstColor"> Get Coupons Up To Expiration Date : </h3>
        <form ng-submit="g.getCouponByEndDate()">
        <input class="form-control" type="date" ng-model="g.dateToSend" required="required"/>
        <br>
         <button type="submit" class="btn btn-success">Search</button>
        </form>
        <div ng-repeat="coupon in g.coupons">
	 <div class="dropdown effectfront ">
		<a role="button"  >
		   <img  width="304" height="236" data-ng-src={{coupon.image}} ng-click="all.getCouponData($index)">
		      </a>
	        	
			   		          
			          <div id={coupon.id} class="dropdown-content ">
			          
			          <form ng-submit="g.updateCoupon($index)">
			               <div>
			               <span> Coupon Details:</span>
			              </div>
			              <div>
			                 <span>ID: {{coupon.id}}</span>
			                   </div>
			                     <div>
			                 <span>Title: {{coupon.title}}</span>
			                       </div>
			                       <div>
			                <span> Start date : {{coupon.startDate | date}}</span>
			                  </div>
			                 <div>
			                <span> 
			                  Expired Date :           
			                 <span ng-hide="g.updateMode">{{coupon.endDate | date}}</span>
			                 <input type="date" class="form-control" ng-show="g.updateMode"
			                 ng-model="coupon.endDate" required="required"></span>
			                   </div>
			              <div>
			                <span>Amount :{{coupon.amount}} </span>
			               </div>
			              <div>
			                <span>Type :{{coupon.type}} </span>
			                  </div>
			              <div>
			                <span>Message : {{coupon.message}} </span>
			             </div>
			              <div>
			                <span>Price :  
			                <span ng-hide="g.updateMode">{{coupon.price}}</span>
			                <input type="text" class="form-control" ng-show="g.updateMode"
			                ng-model="coupon.price" required="required"></span>
			                 </div>
			              <div>
			               <span>              
      				  <button type="button" class="btn btn-primary" ng-hide="g.updateMode" ng-click="g.toggleUpdateMode()">Update</button>
			          <button type="submit" class="btn btn-success" ng-show="g.updateMode" >Save</button>
			          <button type="button" class="btn btn-primary" ng-show="g.updateMode" ng-click="g.toggleUpdateMode()">Back</button> 
			          <button type="button" class="btn btn-danger" ng-hide="g.updateMode" ng-click="g.deleteCouponFunc($index)">Delete</button> 
      
    
                         </span>
                           </div>
			              
			               </form>  
			           
			            </div>
			           <br>
			         <br>
			         <br>
			     </div>
			     <br>
		     </div>    
                 <br>
			     <br>          
     
			
          </div>
 
      
   <div>
   <ul >
		
		<li ng-repeat="coupon in ctrl.coupons" ng-click="ctrl.getCouponData($index)">
		<span>{{coupon.title}}</span>
		</li>
			   </ul>		          
			          
			          <div ng-show="ctrl.divMode">
			          <div>
			            <h4> Coupon Details:</h4>
			                </div>
			                <div>
			                <span>ID : </span>
			                <span >{{ctrl.couponData.id}}</span>
			                </div>
			          <div>
			          <span>Title : </span>
			            <span>{{ctrl.couponData.title}}</span>
			               </div>
			          <div>
			          <span>Start date : </span>
			             <span>{{ctrl.couponData.startDate}}</span>
			              </div> 
			              <div>
			              <span>Expired Date : </span>
			             <span ng-hide="ctrl.updateMode">{{ctrl.couponData.endDate}}</span>
			             <input type="date" ng-show="ctrl.updateMode" ng-model="ctrl.couponData.endDate">
			            
			              </div>     
			          <div>
			          <span>Amount : </span>
			             <span>{{ctrl.couponData.amount}}</span>
			              </div>     
			          <div>
			          <span>Type : </span>
			             <span>{{ctrl.couponData.type}}</span>
			              </div>     
			          <div>
			          <span>Massage :</span>
			             <span>{{ctrl.couponData.massage}}</span>
			              </div> 
			              <div>
			              <span>Price : </span>
			              <span ng-hide="ctrl.updateMode">{{ctrl.couponData.price}}</span>
			              <input type="text" ng-show="ctrl.updateMode" ng-model="ctrl.couponData.price">
			              </div>     
			          <div>
			          <span>Image : </span>
			             <span>{{ctrl.couponData.image}}</span>
			              </div>     
			             <div>
			          <button ng-hide="ctrl.updateMode" ng-click="ctrl.toggleUpdateMode()">Update</button>
			          <button ng-show="ctrl.updateMode" ng-click="ctrl.updateCoupon()">Save</button>
			          <button ng-show="ctrl.updateMode" ng-click="ctrl.toggleUpdateMode()">Back</button> 
			          <button ng-hide="ctrl.updateMode" ng-click="ctrl.deleteCoupon()">Delete</button> 
			          <br>       
			            
			          </div>
			           </div> 
		
			   </div>      
		</div>

</body>
</html>